@using NuthinButNet.Helpers

@inherits Umbraco.Web.Macros.PartialViewMacroPage

@{
    var featuredEvents = Model.Content.GetFeaturedEvents(5);
    var primaryEvent = featuredEvents.First();
}

<div class="events">
    <div class="span6">
        <h2>Upcoming <strong>Events</strong></h2>
        <div class="events-area">
            <ul class="events-list">
                <li>
                    <div class="event-box event-box-featured">
                        <figure class="image">
                            <a href="@primaryEvent.Url"><img src="@UmbracoContext.GetEventThumbnailUrl(primaryEvent)" alt="@primaryEvent.GetPropertyValue("summary")"></a>
                        </figure>
                        <div class="detail">
                            <h5><a href="@primaryEvent.Url">@primaryEvent.GetPropertyValue("eventTitle")</a></h5>
                            <ul>
                                <li><span><i class="icon-date"></i>@primaryEvent.GetFormattedEventDate()</span><span>@primaryEvent.GetFormattedEventTime()</span></li>
                                <li><span><i class="icon-location"></i>@UmbracoContext.GetFormattedAddress(primaryEvent)</span></li>
                            </ul>
                        </div>
                    </div><!-- event-box ends -->
                </li>
            </ul><!-- events-list ends -->
            <!--<div class="pagination pagination-centered">
                <ul>
                    <li class="previous"><a href="#">Prev</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li class="active"><a href="#">4</a></li>
                    <li><a href="#">5</a></li>
                    <li><a href="#">6</a></li>
                    <li><a href="#">...</a></li>
                    <li><a href="#">22</a></li>
                    <li class="next"><a href="#">Next</a></li>
                </ul>
            </div>-->
            <!-- pagination ends -->
        </div><!-- events-area ends -->
    </div><!-- events end -->
</div>

<div class="span6">
    <ul>
        @foreach (var e in featuredEvents.Skip(1))
        {
            <li>
                <div class="event-box">
                    <figure class="image">
                        <a href="@e.Url"><img src="@UmbracoContext.GetEventThumbnailUrl(e)" alt="@e.GetPropertyValue("summary")"></a>
                    </figure>
                    <div class="detail">
                        <h5><a href="@e.Url">@e.GetPropertyValue("eventTitle")</a></h5>
                        <ul>
                            <li><span><i class="icon-date"></i>@e.GetFormattedEventDate()</span><span>@e.GetFormattedEventTime()</span></li>
                            <li><span><i class="icon-location"></i>@UmbracoContext.GetFormattedAddress(e)</span></li>
                        </ul>
                    </div>
                </div><!-- event-box ends -->
            </li>
        }
    </ul>
</div>